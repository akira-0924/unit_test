# 単体テストの価値を高めるリファクタリング

この章では 6 章で行った、関数型アーキテクチャのリファクタリングによる出力値ベースのテストへの移行を、もっと広い範囲（関数型アーキテクチャを適応できないアプリケーションを含む）に適応するにはどうするか、ということをみていく。

## リファクタリングが必要なコードの識別

全てのプロダクションコードは以下の 2 つの視点で分類できる。

- コードの複雑さ、もしくは、ドメインにおける重要性
- 協力者オブジェクトの数

単体テストを行う価値が最もあるのは、複雑なコード、もしくは、ドメインにおける重要なコードである。（退行に対する保護が備わるため）
